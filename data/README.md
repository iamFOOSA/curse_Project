# Структура данных приложения "Дневник питания"

## Описание папки data/

Эта папка содержит все файлы данных приложения.

### Файлы данных:

1. **products.txt** - База данных продуктов питания
   - Формат: `Название_продукта калории белки жиры углеводы`
   - Все значения указаны на 100 грамм продукта
   - Пример: `Овсяная_каша 350 12 6 57`
   - Названия продуктов могут содержать подчеркивания вместо пробелов

2. **nutrition_history.json** - История питания пользователя
   - Хранит информацию о всех приемах пищи за разные дни
   - Формат: JSON с массивами записей по датам
   - Создается автоматически при первом сохранении
   - Содержит:
     - Дату
     - Список приемов пищи
     - Итоговые значения калорий, белков, жиров, углеводов за день

### Структура классов:

- **FoodFileManager** - класс для работы с файлом продуктов
  - Загрузка продуктов из файла
  - Поиск продуктов
  - Добавление/удаление продуктов
  - Расчет питательной ценности для произвольного веса

- **HistoryManager** - класс для работы с историей питания
  - Сохранение истории за день
  - Загрузка истории за конкретную дату
  - Получение статистики за неделю/месяц
  - Удаление записей

### Формат файла products.txt:

Каждая строка содержит:
```
Название_продукта калории белки жиры углеводы
```

Где:
- Название_продукта - название с подчеркиваниями вместо пробелов
- калории - калории на 100 грамм
- белки - граммы белков на 100 грамм
- жиры - граммы жиров на 100 грамм
- углеводы - граммы углеводов на 100 грамм

### Формат файла nutrition_history.json:

```json
{
  "days": [
    {
      "date": "2024-01-15",
      "totalCalories": 2000,
      "totalProteins": 150,
      "totalFats": 70,
      "totalCarbs": 250,
      "meals": [
        {
          "date": "2024-01-15",
          "mealType": "Завтрак",
          "productName": "Овсяная каша",
          "grams": 100,
          "calories": 350,
          "proteins": 12,
          "fats": 6,
          "carbs": 57,
          "timestamp": "08:30"
        }
      ]
    }
  ],
  "lastUpdate": "2024-01-15T10:30:00"
}
```

